<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <meta http-equiv="X-UA-Compatible" content="IE=edge" >
  <title>OpenJDK 8 编译调试 | Corner XX daily log</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="介绍了OpenJDK 8 在Linux上编译，调试的过程，遇到问题的解决办法。">
<meta property="og:type" content="article">
<meta property="og:title" content="OpenJDK 8 编译调试">
<meta property="og:url" content="http://yoursite.com/2016/10/10/jvm/openjdk8-make-debug/index.html">
<meta property="og:site_name" content="Corner XX daily log">
<meta property="og:description" content="介绍了OpenJDK 8 在Linux上编译，调试的过程，遇到问题的解决办法。">
<meta property="og:image" content="http://yoursite.com/img/jvm/hotspot8_eclipse_1.png">
<meta property="og:image" content="http://yoursite.com/img/jvm/hotspot8_eclipse_2.png">
<meta property="og:image" content="http://yoursite.com/img/jvm/hotspot8_eclipse_3.png">
<meta property="og:image" content="http://yoursite.com/img/jvm/hotspot8_eclipse_4.png">
<meta property="og:image" content="http://yoursite.com/img/jvm/hotspot8_eclipse_5.png">
<meta property="og:image" content="http://yoursite.com/img/jvm/hotspot8_eclipse_6.png">
<meta property="og:updated_time" content="2016-10-10T06:01:27.750Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="OpenJDK 8 编译调试">
<meta name="twitter:description" content="介绍了OpenJDK 8 在Linux上编译，调试的过程，遇到问题的解决办法。">
<meta name="twitter:image" content="http://yoursite.com/img/jvm/hotspot8_eclipse_1.png">
  
    <link rel="alternative" href="/atom.xml" title="Corner XX daily log" type="application/atom+xml">
  
  
    <link rel="icon" href="//favicon.png">
  
  <script src="/style.js"></script>
</head>

<body>
  <div id="container">
    <div class="left-col">
      <div class="overlay"></div>
<div class="intrude-less">
	<header id="header" class="inner">
		<a href="/" class="profilepic">
			
			<img src="/img/suolong.png" class="js-avatar">
			
		</a>

		<hgroup>
		  <h1 class="header-author"><a href="/">Corner XX</a></h1>
		</hgroup>

		

		<nav class="header-menu">
			<ul>
			
				<li><a href="/">主页</a></li>
	        
			</ul>
		</nav>
		<nav class="header-smart-menu">
	        
    		
    			
    			<a class="js-smart-menu" data-idx="0" href="javascript:void(0)">所有文章</a>
    			
    			
            
    			
    			<a class="js-smart-menu" data-idx="1" href="javascript:void(0)">标签</a>
    			
    			
            
    			
    			<a class="js-smart-menu" data-idx="2" href="javascript:void(0)">关于我</a>
    			
    			
            
		</nav>
		<nav class="header-nav">
			<div class="social">
				
					<a class="github" target="_blank" href="#" title="github">github</a>
		        
					<a class="weibo" target="_blank" href="#" title="weibo">weibo</a>
		        
					<a class="rss" target="_blank" href="#" title="rss">rss</a>
		        
					<a class="zhihu" target="_blank" href="https://www.zhihu.com/people/cornerxx" title="zhihu">zhihu</a>
		        
			</div>
		</nav>
	</header>		
</div>

    </div>
    <div class="mid-col">
      <nav id="mobile-nav">
  	<div class="overlay">
  		<div class="slider-trigger"><i class="icon-list"></i></div>
  		<h1 class="header-author js-mobile-header hide">Corner XX</h1>
  	</div>
	<div class="intrude-less">
		<header id="header" class="inner">
			<div class="profilepic">
				
					<img src="/img/suolong.png" class="js-avatar">
				
			</div>
			<hgroup>
			  <h1 class="header-author">Corner XX</h1>
			</hgroup>
			
			<nav class="header-menu">
				<ul>
				
					<li><a href="/">主页</a></li>
		        
				</ul>
			</nav>
			<nav class="header-nav">
				<div class="social">
					
						<a class="github" target="_blank" href="#" title="github">github</a>
			        
						<a class="weibo" target="_blank" href="#" title="weibo">weibo</a>
			        
						<a class="rss" target="_blank" href="#" title="rss">rss</a>
			        
						<a class="zhihu" target="_blank" href="https://www.zhihu.com/people/cornerxx" title="zhihu">zhihu</a>
			        
				</div>
			</nav>
		</header>				
	</div>
</nav>

      <div class="body-wrap">
        <article id="post-jvm/openjdk8-make-debug" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      OpenJDK 8 编译调试
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>介绍了OpenJDK 8 在Linux上编译，调试的过程，遇到问题的解决办法。<br><a id="more"></a></p>
<h2 id="概述"><a href="#概述" class="headerlink" title="概述"></a>概述</h2><p>由于OpenJDK 8 的编译模式重构了，所以OpenJDK7和OpenJDK8的编译方式有很大的区别，debug方式也有区别。没有了gmama。介绍了OpenJDK 8 在Linux上编译，调试的过程，遇到问题的解决办法。我采用的Linux平台：RHEL 6.5</p>
<h2 id="下载源代码"><a href="#下载源代码" class="headerlink" title="下载源代码"></a>下载源代码</h2><p>我采用官方的hg方式无法下载，在这里我使用的是github上提供的一个源，这个仓库自动同步openjdk主干的相关代码,地址为：<br><a href="https://github.com/dmlloyd/openjdk" title="github中OpenJDK源代码" target="_blank" rel="external">github中OpenJDK源代码</a><br>我这里采用的是jdk8u分支。<br><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">git clone -b jdk8u  https://github.com/dmlloyd/openjdk.git</div></pre></td></tr></table></figure></p>
<h2 id="正常编译"><a href="#正常编译" class="headerlink" title="正常编译"></a>正常编译</h2><p>首先，需要先安装依赖的软件包：<br><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">sudo yum install libXtst-devel libXt-devel libXrender-devel cups-devel freetype-devel alsa-lib-devel ccache</div></pre></td></tr></table></figure></p>
<p>可以使用ccache加速g++的编译效率，由于我的yum没有，所以手动安装：</p>
<p>分享一个软件balance，这个软件可以作为代理软件，由于我安装OpenJDK的机器上无法连接外网，所以很烦，这里使用这个软件作为跳转<br><figure class="highlight sh"><table><tr><td class="code"><pre><div class="line">wget https://www.inlab.de/balance-3.57.tar.gz</div><div class="line">tar -xvzf balance-3.57.tar.gz</div><div class="line"><span class="built_in">cd</span> balance-3.57</div><div class="line">make</div></pre></td></tr></table></figure></p>
<p>通过以上步骤就编译好balance了，配置代理：<br><figure class="highlight sh"><table><tr><td class="code"><pre><div class="line">./balance 443 www.samba.org <span class="_">-f</span> <span class="_">-d</span> <span class="_">-a</span></div></pre></td></tr></table></figure></p>
<p>在编译的机器上配置hosts<br><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">192.168.15.139 www.samba.org</div></pre></td></tr></table></figure></p>
<p>获取ccache的源代码：<br><figure class="highlight sh"><table><tr><td class="code"><pre><div class="line">wget https://www.samba.org/ftp/ccache/ccache-3.1.4.tar.gz</div></pre></td></tr></table></figure></p>
<p>OK,下载完成。开始编译。<br><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">tar -xzzvf ccache-3.1.4.tar.gz</div><div class="line">cd ccache-3.1.4</div><div class="line">make install</div></pre></td></tr></table></figure></p>
<p>其次，OpenJDK 8 采用了configure脚本：<br><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">bash configure</div></pre></td></tr></table></figure></p>
<p>我们可以通过以下名利看看configure支持的配置项：<br><figure class="highlight sh"><table><tr><td class="code"><pre><div class="line">bash ./configure --help</div></pre></td></tr></table></figure></p>
<p>or<br><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">bash ./configure --help=short</div></pre></td></tr></table></figure></p>
<p>后面一个命令显示如下：<br><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">Running generated-configure.sh</div><div class="line">Configuration of OpenJDK jdk8:</div><div class="line"></div><div class="line">Optional Features:</div><div class="line">  --disable-option-checking  ignore unrecognized --enable/--with options</div><div class="line">  --disable-FEATURE       do not include FEATURE (same as --enable-FEATURE=no)</div><div class="line">  --enable-FEATURE[=ARG]  include FEATURE [ARG=yes]</div><div class="line">  --enable-openjdk-only   suppress building custom source even if present</div><div class="line">                          [disabled]</div><div class="line">  --enable-debug          set the debug level to fastdebug (shorthand for</div><div class="line">                          --with-debug-level=fastdebug) [disabled]</div><div class="line">  --disable-headful       disable building headful support (graphical UI</div><div class="line">                          support) [enabled]</div><div class="line">  --enable-hotspot-test-in-build</div><div class="line">                          run the Queens test after Hotspot build [disabled]</div><div class="line">  --enable-unlimited-crypto</div><div class="line">                          Enable unlimited crypto policy [disabled]</div><div class="line">  --disable-debug-symbols disable generation of debug symbols [enabled]</div><div class="line">  --disable-zip-debug-info</div><div class="line">                          disable zipping of debug-info files [enabled]</div><div class="line">  --enable-macosx-runtime-support</div><div class="line">                          Deprecated. Option is kept for backwards</div><div class="line">                          compatibility and is ignored</div><div class="line">  --disable-freetype-bundling</div><div class="line">                          disable bundling of the freetype library with the</div><div class="line">                          build result [enabled on Windows or when using</div><div class="line">                          --with-freetype, disabled otherwise]</div><div class="line">  --enable-sjavac         use sjavac to do fast incremental compiles</div><div class="line">                          [disabled]</div><div class="line">  --disable-precompiled-headers</div><div class="line">                          disable using precompiled headers when compiling C++</div><div class="line">                          [enabled]</div><div class="line">  --disable-ccache        disable using ccache to speed up recompilations</div><div class="line">                          [enabled]</div><div class="line"></div><div class="line">Optional Packages:</div><div class="line">  --with-PACKAGE[=ARG]    use PACKAGE [ARG=yes]</div><div class="line">  --without-PACKAGE       do not use PACKAGE (same as --with-PACKAGE=no)</div><div class="line">  --with-custom-make-dir  use this directory for custom build/make files</div><div class="line">  --with-target-bits      build 32-bit or 64-bit binaries (for platforms that</div><div class="line">                          support it), e.g. --with-target-bits=32 [guessed]</div><div class="line">  --with-sys-root         pass this sys-root to the compilers and tools (for</div><div class="line">                          cross-compiling)</div><div class="line">  --with-tools-dir        search this directory for compilers and tools (for</div><div class="line">                          cross-compiling)</div><div class="line">  --with-xcode-path       explicit path to Xcode 4 (generally for building on</div><div class="line">                          10.9 and later)</div><div class="line">  --with-devkit           use this directory as base for tools-dir and</div><div class="line">                          sys-root (for cross-compiling)</div><div class="line">  --with-jdk-variant      JDK variant to build (normal) [normal]</div><div class="line">  --with-jvm-interpreter  JVM interpreter to build (template, cpp) [template]</div><div class="line">  --with-jvm-variants     JVM variants (separated by commas) to build (server,</div><div class="line">                          client, minimal1, kernel, zero, zeroshark, core)</div><div class="line">                          [server]</div><div class="line">  --with-debug-level      set the debug level (release, fastdebug, slowdebug)</div><div class="line">                          [release]</div><div class="line">  --with-conf-name        use this as the name of the configuration [generated</div><div class="line">                          from important configuration options]</div><div class="line">  --with-builddeps-conf   use this configuration file for the builddeps</div><div class="line">  --with-builddeps-server download and use build dependencies from this server</div><div class="line">                          url</div><div class="line">  --with-builddeps-dir    store downloaded build dependencies here</div><div class="line">                          [/localhome/builddeps]</div><div class="line">  --with-builddeps-group  chgrp the downloaded build dependencies to this</div><div class="line">                          group</div><div class="line">  --with-cacerts-file     specify alternative cacerts file</div><div class="line">  --with-milestone        Set milestone value for build [internal]</div><div class="line">  --with-update-version   Set update version value for build [b00]</div><div class="line">  --with-user-release-suffix</div><div class="line">                          Add a custom string to the version string if build</div><div class="line">                          number isn&apos;t set.[username_builddateb00]</div><div class="line">  --with-build-number     Set build number value for build [b00]</div><div class="line">  --with-copyright-year   Set copyright year value for build [current year]</div><div class="line">  --with-boot-jdk         path to Boot JDK (used to bootstrap build) [probed]</div><div class="line">  --with-boot-jdk-jvmargs specify JVM arguments to be passed to all</div><div class="line">                          invocations of the Boot JDK, overriding the default</div><div class="line">                          values, e.g --with-boot-jdk-jvmargs=&quot;-Xmx8G</div><div class="line">                          -enableassertions&quot;</div><div class="line">  --with-add-source-root  for each and every source directory, look in this</div><div class="line">                          additional source root for the same directory; if it</div><div class="line">                          exists and have files in it, include it in the build</div><div class="line">  --with-override-source-root</div><div class="line">                          for each and every source directory, look in this</div><div class="line">                          override source root for the same directory; if it</div><div class="line">                          exists, use that directory instead and ignore the</div><div class="line">                          directory in the original source root</div><div class="line">  --with-adds-and-overrides</div><div class="line">                          use the subdirs &apos;adds&apos; and &apos;overrides&apos; in the</div><div class="line">                          specified directory as add-source-root and</div><div class="line">                          override-source-root</div><div class="line">  --with-override-langtools</div><div class="line">                          use this langtools dir for the build</div><div class="line">  --with-override-corba   use this corba dir for the build</div><div class="line">  --with-override-jaxp    use this jaxp dir for the build</div><div class="line">  --with-override-jaxws   use this jaxws dir for the build</div><div class="line">  --with-override-hotspot use this hotspot dir for the build</div><div class="line">  --with-override-nashorn use this nashorn dir for the build</div><div class="line">  --with-override-jdk     use this jdk dir for the build</div><div class="line">  --with-import-hotspot   import hotspot binaries from this jdk image or</div><div class="line">                          hotspot build dist dir instead of building from</div><div class="line">                          source</div><div class="line">  --with-msvcr-dll        copy this msvcr100.dll into the built JDK (Windows</div><div class="line">                          only) [probed]</div><div class="line">  --with-dxsdk            Deprecated. Option is kept for backwards</div><div class="line">                          compatibility and is ignored</div><div class="line">  --with-dxsdk-lib        Deprecated. Option is kept for backwards</div><div class="line">                          compatibility and is ignored</div><div class="line">  --with-dxsdk-include    Deprecated. Option is kept for backwards</div><div class="line">                          compatibility and is ignored</div><div class="line">  --with-jtreg            Regression Test Harness [probed]</div><div class="line">  --with-extra-cflags     extra flags to be used when compiling jdk c-files</div><div class="line">  --with-extra-cxxflags   extra flags to be used when compiling jdk c++-files</div><div class="line">  --with-extra-ldflags    extra flags to be used when linking jdk</div><div class="line">  --with-x                use the X Window System</div><div class="line">  --with-cups             specify prefix directory for the cups package</div><div class="line">                          (expecting the headers under PATH/include)</div><div class="line">  --with-cups-include     specify directory for the cups include files</div><div class="line">  --with-freetype         specify prefix directory for the freetype package</div><div class="line">                          (expecting the libraries under PATH/lib and the</div><div class="line">                          headers under PATH/include)</div><div class="line">  --with-freetype-include specify directory for the freetype include files</div><div class="line">  --with-freetype-lib     specify directory for the freetype library</div><div class="line">  --with-alsa             specify prefix directory for the alsa package</div><div class="line">                          (expecting the libraries under PATH/lib and the</div><div class="line">                          headers under PATH/include)</div><div class="line">  --with-alsa-include     specify directory for the alsa include files</div><div class="line">  --with-alsa-lib         specify directory for the alsa library</div><div class="line">  --with-giflib           use giflib from build system or OpenJDK source</div><div class="line">                          (system, bundled) [bundled]</div><div class="line">  --with-zlib             use zlib from build system or OpenJDK source</div><div class="line">                          (system, bundled) [bundled]</div><div class="line">  --with-stdc++lib=&lt;static&gt;,&lt;dynamic&gt;,&lt;default&gt;</div><div class="line">                          force linking of the C++ runtime on Linux to either</div><div class="line">                          static or dynamic, default is static with dynamic as</div><div class="line">                          fallback</div><div class="line">  --with-num-cores        number of cores in the build system, e.g.</div><div class="line">                          --with-num-cores=8 [probed]</div><div class="line">  --with-memory-size      memory (in MB) available in the build system, e.g.</div><div class="line">                          --with-memory-size=1024 [probed]</div><div class="line">  --with-jobs             number of parallel jobs to let make run [calculated</div><div class="line">                          based on cores and memory]</div><div class="line">  --with-sjavac-server-java</div><div class="line">                          use this java binary for running the sjavac</div><div class="line">                          background server [Boot JDK java]</div><div class="line">  --with-ccache-dir       where to store ccache files [~/.ccache]</div><div class="line"></div><div class="line">Some influential environment variables:</div><div class="line">  PKG_CONFIG  path to pkg-config utility</div><div class="line">  CC          C compiler command</div><div class="line">  CFLAGS      C compiler flags</div><div class="line">  LDFLAGS     linker flags, e.g. -L&lt;lib dir&gt; if you have libraries in a</div><div class="line">              nonstandard directory &lt;lib dir&gt;</div><div class="line">  LIBS        libraries to pass to the linker, e.g. -l&lt;library&gt;</div><div class="line">  CPPFLAGS    (Objective) C/C++ preprocessor flags, e.g. -I&lt;include dir&gt; if</div><div class="line">              you have headers in a nonstandard directory &lt;include dir&gt;</div><div class="line">  CXX         C++ compiler command</div><div class="line">  CXXFLAGS    C++ compiler flags</div><div class="line">  OBJC        Objective C compiler command</div><div class="line">  OBJCFLAGS   Objective C compiler flags</div><div class="line">  CPP         C preprocessor</div><div class="line">  CXXCPP      C++ preprocessor</div><div class="line">  XMKMF       Path to xmkmf, Makefile generator for X Window System</div><div class="line">  FREETYPE_CFLAGS</div><div class="line">              C compiler flags for FREETYPE, overriding pkg-config</div><div class="line">  FREETYPE_LIBS</div><div class="line">              linker flags for FREETYPE, overriding pkg-config</div><div class="line">  ALSA_CFLAGS C compiler flags for ALSA, overriding pkg-config</div><div class="line">  ALSA_LIBS   linker flags for ALSA, overriding pkg-config</div><div class="line">  LIBFFI_CFLAGS</div><div class="line">              C compiler flags for LIBFFI, overriding pkg-config</div><div class="line">  LIBFFI_LIBS linker flags for LIBFFI, overriding pkg-config</div><div class="line"></div><div class="line">Use these variables to override the choices made by `configure&apos; or to help</div><div class="line">it to find libraries and programs with nonstandard names/locations.</div><div class="line"></div><div class="line">Report bugs to &lt;build-dev@openjdk.java.net&gt;.</div><div class="line">OpenJDK home page: &lt;http://openjdk.java.net&gt;.</div></pre></td></tr></table></figure></p>
<p>最后，运行最后一步，开始编译OpenJDK 8<br><figure class="highlight sh"><table><tr><td class="code"><pre><div class="line">make all</div></pre></td></tr></table></figure></p>
<p>最终编译的文件在$OPENJDK_HOME/build/linux-x86_64-normal-server-release/</p>
<h2 id="SlowDebug构建"><a href="#SlowDebug构建" class="headerlink" title="SlowDebug构建"></a>SlowDebug构建</h2><p>OpenJDK提供了两个Debug版本，一个是SlowDebug，一个是fastdebug。<br>SlowDebug版本是没有经过优化的，编译SlowDebug如下：<br><figure class="highlight sh"><table><tr><td class="code"><pre><div class="line"><span class="built_in">export</span> ZIP_DEBUGINFO_FILES=0</div><div class="line">bash ./configure --with-debug-level=slowdebug --enable-debug-symbols ZIP_DEBUGINFO_FILES=0</div><div class="line">make CONF=linux-x86_64-normal-server-slowdebug ZIP_DEBUGINFO_FILES=0</div></pre></td></tr></table></figure></p>
<p>ZIP_DEBUGINFO_FILES作用告诉编译器编译的过程产生debuginfo不要压缩，压缩后，会导致调试过程中找不到源代码相关信息。<br>最终编译的文件在<br>$OPENJDK_HOME/build/linux-x86_64-normal-server-slowdebug/。<br>目录如下：<br>JDK_HOME：$OPENJDK_HOME/build/linux-x86_64-normal-server-slowdebug/jdk<br>HOTSPOT_HOME：$OPENJDK_HOME/build/linux-x86_64-normal-server-slowdebug/hotspot/linux_amd64_compiler2/debug</p>
<h2 id="FastDebug构建"><a href="#FastDebug构建" class="headerlink" title="FastDebug构建"></a>FastDebug构建</h2><p>FastDebug版本是经过优化处理的，效率要比FastDebug要快，编译FastDebug版本如下：<br><figure class="highlight sh"><table><tr><td class="code"><pre><div class="line"><span class="built_in">export</span> ZIP_DEBUGINFO_FILES=0</div><div class="line">bash ./configure --enable-debug --with-debug-level=fastdebug --enable-debug-symbols ZIP_DEBUGINFO_FILES=0</div><div class="line">make CONF=linux-x86_64-normal-server-fastdebug</div></pre></td></tr></table></figure></p>
<p>or<br><figure class="highlight sh"><table><tr><td class="code"><pre><div class="line"><span class="built_in">export</span> ZIP_DEBUGINFO_FILES=0</div><div class="line">bash ./configure --enable-debug --enable-debug-symbols ZIP_DEBUGINFO_FILES=0</div><div class="line">make CONF=linux-x86_64-normal-server-fastdebug</div></pre></td></tr></table></figure></p>
<p>最终编译的文件在<br>$OPENJDK_HOME/build/linux-x86_64-normal-server-fastdebug/<br>目录如下：<br>JDK_HOME：$OPENJDK_HOME/build/linux-x86_64-normal-server-slowdebug/jdk<br>HOTSPOT_HOME：$OPENJDK_HOME/build/linux-x86_64-normal-server-fastdebug/hotspot/linux_amd64_compiler2/fastdebug</p>
<h2 id="手动Debug-Hotspot"><a href="#手动Debug-Hotspot" class="headerlink" title="手动Debug Hotspot"></a>手动Debug Hotspot</h2><p>Debug版本的OpenJDK都是运行$HOTSPOT_HOME/hotspot命令运行的。其实hotspot命令只是一个shell脚本，先来看看:<br><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">#!/bin/sh</div><div class="line"></div><div class="line"># Copyright (c) 2010, 2013, Oracle and/or its affiliates. All rights reserved.</div><div class="line"># DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.</div><div class="line">#</div><div class="line"># This code is free software; you can redistribute it and/or modify it</div><div class="line"># under the terms of the GNU General Public License version 2 only, as</div><div class="line"># published by the Free Software Foundation.</div><div class="line">#</div><div class="line"># This code is distributed in the hope that it will be useful, but WITHOUT</div><div class="line"># ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or</div><div class="line"># FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License</div><div class="line"># version 2 for more details (a copy is included in the LICENSE file that</div><div class="line"># accompanied this code).</div><div class="line">#</div><div class="line"># You should have received a copy of the GNU General Public License version</div><div class="line"># 2 along with this work; if not, write to the Free Software Foundation,</div><div class="line"># Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.</div><div class="line">#</div><div class="line"># Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA</div><div class="line"># or visit www.oracle.com if you need additional information or have any</div><div class="line"># questions.</div><div class="line"></div><div class="line"></div><div class="line"># This script launches HotSpot.</div><div class="line">#</div><div class="line"># If the first parameter is either &quot;-gdb&quot; or &quot;-gud&quot;, HotSpot will be</div><div class="line"># launched inside gdb. &quot;-gud&quot; means &quot;open an Emacs window and run gdb</div><div class="line"># inside Emacs&quot;.</div><div class="line">#</div><div class="line"># If the first parameter is &quot;-dbx&quot;, HotSpot will be launched inside dbx.</div><div class="line">#</div><div class="line"># If the first parameter is &quot;-valgrind&quot;, HotSpot will be launched</div><div class="line"># inside Valgrind (http://valgrind.kde.org) using the Memcheck skin,</div><div class="line"># and with memory leak detection enabled.  This currently (2005jan19)</div><div class="line"># requires at least Valgrind 2.3.0.  -Xmx16m will also be passed as</div><div class="line"># the first parameter to HotSpot, since lowering HotSpot&apos;s memory</div><div class="line"># consumption makes execution inside of Valgrind *a lot* faster.</div><div class="line">#</div><div class="line"></div><div class="line"></div><div class="line">#</div><div class="line"># User changeable parameters ------------------------------------------------</div><div class="line">#</div><div class="line"></div><div class="line"># This is the name of the gdb binary to use</div><div class="line">if [ ! &quot;$GDB&quot; ]</div><div class="line">then</div><div class="line">    GDB=gdb</div><div class="line">fi</div><div class="line"></div><div class="line"># This is the name of the gdb binary to use</div><div class="line">if [ ! &quot;$DBX&quot; ]</div><div class="line">then</div><div class="line">    DBX=dbx</div><div class="line">fi</div><div class="line"></div><div class="line"># This is the name of the Valgrind binary to use</div><div class="line">if [ ! &quot;$VALGRIND&quot; ]</div><div class="line">then</div><div class="line">    VALGRIND=valgrind</div><div class="line">fi</div><div class="line"></div><div class="line"># This is the name of Emacs for running GUD</div><div class="line">EMACS=emacs</div><div class="line"></div><div class="line">#</div><div class="line"># End of user changeable parameters -----------------------------------------</div><div class="line">#</div><div class="line"></div><div class="line"># Make sure the paths are fully specified, i.e. they must begin with /.</div><div class="line">REL_MYDIR=`dirname $0`</div><div class="line">MYDIR=`cd $REL_MYDIR &amp;&amp; pwd`</div><div class="line"></div><div class="line">#</div><div class="line"># Look whether the user wants to run inside gdb</div><div class="line">case &quot;$1&quot; in</div><div class="line">    -gdb)</div><div class="line">        MODE=gdb</div><div class="line">        shift</div><div class="line">        ;;</div><div class="line">    -gud)</div><div class="line">        MODE=gud</div><div class="line">        shift</div><div class="line">        ;;</div><div class="line">    -dbx)</div><div class="line">        MODE=dbx</div><div class="line">        shift</div><div class="line">        ;;</div><div class="line">    -valgrind)</div><div class="line">        MODE=valgrind</div><div class="line">        shift</div><div class="line">        ;;</div><div class="line">    *)</div><div class="line">        MODE=run</div><div class="line">        ;;</div><div class="line">esac</div><div class="line"></div><div class="line">if [ &quot;$&#123;ALT_JAVA_HOME&#125;&quot; != &quot;&quot; ]; then</div><div class="line">    JDK=$&#123;ALT_JAVA_HOME%%/jre&#125;</div><div class="line">else</div><div class="line">    JDK=/java/re/j2se/1.8.0/promoted/latest/binaries/linux-amd64</div><div class="line">fi</div><div class="line"></div><div class="line">if [ &quot;$&#123;JDK&#125;&quot; = &quot;&quot; ]; then</div><div class="line">    echo &quot;Failed to find JDK.  Either ALT_JAVA_HOME is not set or JDK_IMPORT_PATH is empty.&quot;</div><div class="line">fi</div><div class="line"></div><div class="line"># We will set the LD_LIBRARY_PATH as follows:</div><div class="line">#     o		$JVMPATH (directory portion only)</div><div class="line">#     o		$JRE/lib/$ARCH</div><div class="line"># followed by the user&apos;s previous effective LD_LIBRARY_PATH, if</div><div class="line"># any.</div><div class="line">JRE=$JDK/jre</div><div class="line">JAVA_HOME=$JDK</div><div class="line">export JAVA_HOME</div><div class="line"></div><div class="line">ARCH=amd64</div><div class="line">SBP=$&#123;MYDIR&#125;:$&#123;JRE&#125;/lib/$&#123;ARCH&#125;</div><div class="line"></div><div class="line"></div><div class="line"># Set up a suitable LD_LIBRARY_PATH or DYLD_LIBRARY_PATH</div><div class="line">OS=`uname -s`</div><div class="line">if [ &quot;$&#123;OS&#125;&quot; = &quot;Darwin&quot; ]</div><div class="line">then</div><div class="line">    if [ -z &quot;$DYLD_LIBRARY_PATH&quot; ]</div><div class="line">    then</div><div class="line">        DYLD_LIBRARY_PATH=&quot;$SBP&quot;</div><div class="line">    else</div><div class="line">        DYLD_LIBRARY_PATH=&quot;$SBP:$DYLD_LIBRARY_PATH&quot;</div><div class="line">    fi</div><div class="line">    export DYLD_LIBRARY_PATH</div><div class="line">else</div><div class="line">    # not &apos;Darwin&apos;</div><div class="line">    if [ -z &quot;$LD_LIBRARY_PATH&quot; ]</div><div class="line">    then</div><div class="line">        LD_LIBRARY_PATH=&quot;$SBP&quot;</div><div class="line">    else</div><div class="line">        LD_LIBRARY_PATH=&quot;$SBP:$LD_LIBRARY_PATH&quot;</div><div class="line">    fi</div><div class="line">    export LD_LIBRARY_PATH</div><div class="line">fi</div><div class="line"></div><div class="line">JPARMS=&quot;-Dsun.java.launcher=gamma -XXaltjvm=$MYDIR $@ $JAVA_ARGS&quot;;</div><div class="line"></div><div class="line"># Locate the java launcher</div><div class="line">LAUNCHER=$JDK/bin/java</div><div class="line">if [ ! -x $LAUNCHER ] ; then</div><div class="line">    echo Error: Cannot find the java launcher \&quot;$LAUNCHER\&quot;</div><div class="line">    exit 1</div><div class="line">fi</div><div class="line"></div><div class="line">GDBSRCDIR=$MYDIR</div><div class="line">BASEDIR=`cd $MYDIR/../../.. &amp;&amp; pwd`</div><div class="line"></div><div class="line">init_gdb() &#123;</div><div class="line"># Create a gdb script in case we should run inside gdb</div><div class="line">    GDBSCR=/tmp/hsl.$$</div><div class="line">    rm -f $GDBSCR</div><div class="line">    cat &gt;&gt;$GDBSCR &lt;&lt;EOF</div><div class="line">cd `pwd`</div><div class="line">handle SIGUSR1 nostop noprint</div><div class="line">handle SIGUSR2 nostop noprint</div><div class="line">set args $JPARMS</div><div class="line">file $LAUNCHER</div><div class="line">directory $GDBSRCDIR</div><div class="line"># Get us to a point where we can set breakpoints in libjvm.so</div><div class="line">set breakpoint pending on</div><div class="line">break JNI_CreateJavaVM</div><div class="line">run</div><div class="line"># Stop in JNI_CreateJavaVM</div><div class="line">delete 1</div><div class="line"># We can now set breakpoints wherever we like</div><div class="line">EOF</div><div class="line">&#125;</div><div class="line"></div><div class="line"></div><div class="line">case &quot;$MODE&quot; in</div><div class="line">    gdb)</div><div class="line">	init_gdb</div><div class="line">        $GDB -x $GDBSCR</div><div class="line">	rm -f $GDBSCR</div><div class="line">        ;;</div><div class="line">    gud)</div><div class="line">	init_gdb</div><div class="line"># First find out what emacs version we&apos;re using, so that we can</div><div class="line"># use the new pretty GDB mode if emacs -version &gt;= 22.1</div><div class="line">	case `$EMACS -version 2&gt; /dev/null` in</div><div class="line">	    *GNU\ Emacs\ 2[23]*)</div><div class="line">	    emacs_gud_cmd=&quot;gdba&quot;</div><div class="line">	    emacs_gud_args=&quot;--annotate=3&quot;</div><div class="line">	    ;;</div><div class="line">	    *)</div><div class="line">		emacs_gud_cmd=&quot;gdb&quot;</div><div class="line">		emacs_gud_args=</div><div class="line">		;;</div><div class="line">	esac</div><div class="line">        $EMACS --eval &quot;($emacs_gud_cmd \&quot;$GDB $emacs_gud_args -x $GDBSCR\&quot;)&quot;;</div><div class="line">	rm -f $GDBSCR</div><div class="line">        ;;</div><div class="line">    dbx)</div><div class="line">        $DBX -s $HOME/.dbxrc -c &quot;loadobject -load libjvm.so; stop in JNI_CreateJavaVM; run $JPARMS; delete all&quot; $LAUNCHER</div><div class="line">        ;;</div><div class="line">    valgrind)</div><div class="line">        echo Warning: Defaulting to 16Mb heap to make Valgrind run faster, use -Xmx for larger heap</div><div class="line">        echo</div><div class="line">        $VALGRIND --tool=memcheck --leak-check=yes --num-callers=50 $LAUNCHER -Xmx16m $JPARMS</div><div class="line">        ;;</div><div class="line">    run)</div><div class="line">        LD_PRELOAD=$PRELOADING exec $LAUNCHER $JPARMS</div><div class="line">        ;;</div><div class="line">    *)</div><div class="line">        echo Error: Internal error, unknown launch mode \&quot;$MODE\&quot;</div><div class="line">        exit 1</div><div class="line">        ;;</div><div class="line">esac</div><div class="line">RETVAL=$?</div><div class="line">exit $RETVAL</div></pre></td></tr></table></figure></p>
<p>首先，这个脚本会根据环境变量ALT_JAVA_HOME获取JAVA_HOME的位置，即JDK的位置。这个命令运行的时候需要这个环境变量。通过脚本我们也知道通过./hotspot -gdb 可以运行调试程序。</p>
<p>下面，我们先通过命令行调试hotspot。<br><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">[root@template debug]# cd /opt/build/openjdk-jdk8u-jdk8u/build/linux-x86_64-normal-server-slowdebug/hotspot/linux_amd64_compiler2/debug</div><div class="line">[root@template debug]# export ALT_JAVA_HOME=$OPENJDK_HOME/build/linux-x86_64-normal-server-slowdebug/jdk/</div><div class="line">[root@template debug]# ./hotspot -gdb</div><div class="line">GNU gdb (GDB) Red Hat Enterprise Linux (7.2-60.el6_4.1)</div><div class="line">Copyright (C) 2010 Free Software Foundation, Inc.</div><div class="line">License GPLv3+: GNU GPL version 3 or later &lt;http://gnu.org/licenses/gpl.html&gt;</div><div class="line">This is free software: you are free to change and redistribute it.</div><div class="line">There is NO WARRANTY, to the extent permitted by law.  Type &quot;show copying&quot;</div><div class="line">and &quot;show warranty&quot; for details.</div><div class="line">This GDB was configured as &quot;x86_64-redhat-linux-gnu&quot;.</div><div class="line">For bug reporting instructions, please see:</div><div class="line">&lt;http://www.gnu.org/software/gdb/bugs/&gt;.</div><div class="line">Function &quot;JNI_CreateJavaVM&quot; not defined.</div><div class="line">Breakpoint 1 (JNI_CreateJavaVM) pending.</div><div class="line">[Thread debugging using libthread_db enabled]</div><div class="line">[New Thread 0x7ffff6796700 (LWP 12148)]</div><div class="line">[Switching to Thread 0x7ffff6796700 (LWP 12148)]</div><div class="line"></div><div class="line">Breakpoint 1, JNI_CreateJavaVM (vm=0x7ffff6795e18, penv=0x7ffff6795e10, args=0x7ffff6795dc0) at /opt/build/openjdk-jdk8u-jdk8u/hotspot/src/share/vm/prims/jni.cpp:5169</div><div class="line">5169	  jint result = JNI_ERR;</div><div class="line">(gdb)</div></pre></td></tr></table></figure></p>
<p>以上是通过hotspot命令进行直接调试，我们也可以使用gdb进行直接调试，同上面的hotspot脚本中我们可以知道，在运行gdb前，程序设置了LD_LIBRARY_PATH，让程序运行的时候第一加载我们指定的路径。<br><figure class="highlight cmd"><table><tr><td class="code"><pre><div class="line">[root@template debug]# export LD_LIBRARY_PATH=/opt/build/openjdk-jdk8u-jdk8u/build/linux-x86_64-normal-server-slowdebug/hotspot/linux_amd64_compiler2/debug:$LD_LIBRARY_PATH</div><div class="line">[root@template debug]# gdb /opt/build/openjdk-jdk8u-jdk8u/build/linux-x86_64-normal-server-slowdebug/jdk/bin/java -Dsun.java.launcher=gamma -XXaltjvm=/opt/build/openjdk-jdk8u-jdk8u/build/linux-x86_64-normal-server-slowdebug/hotspot/linux_amd64_compiler2/debug</div></pre></td></tr></table></figure></p>
<p>我们进入了gdb调试程序中<br><figure class="highlight sh"><table><tr><td class="code"><pre><div class="line">GNU gdb (GDB) Red Hat Enterprise Linux (7.2-60.el6_4.1)</div><div class="line">Copyright (C) 2010 Free Software Foundation, Inc.</div><div class="line">License GPLv3+: GNU GPL version 3 or later &lt;http://gnu.org/licenses/gpl.html&gt;</div><div class="line">This is free software: you are free to change and redistribute it.</div><div class="line">There is NO WARRANTY, to the extent permitted by law.  Type <span class="string">"show copying"</span></div><div class="line">and <span class="string">"show warranty"</span> <span class="keyword">for</span> details.</div><div class="line">This GDB was configured as <span class="string">"x86_64-redhat-linux-gnu"</span>.</div><div class="line">For bug reporting instructions, please see:</div><div class="line">&lt;http://www.gnu.org/software/gdb/bugs/&gt;...</div><div class="line">Reading symbols from /opt/build/openjdk-jdk8u-jdk8u/build/linux-x86_64-normal-server-slowdebug/jdk/bin/java...done.</div><div class="line">(gdb) <span class="built_in">set</span> args -Dsun.java.launcher=gamma -XXaltjvm=/opt/build/openjdk-jdk8u-jdk8u/build/linux-x86_64-normal-server-slowdebug/hotspot/linux_amd64_compiler2/debug</div><div class="line">(gdb) b main</div><div class="line">Breakpoint 1 at 0x400614: file /opt/build/openjdk-jdk8u-jdk8u/jdk/src/share/bin/main.c, line 97.</div><div class="line">(gdb) c</div><div class="line">The program is not being run.</div><div class="line">(gdb) r</div><div class="line">Starting program: /opt/build/openjdk-jdk8u-jdk8u/build/linux-x86_64-normal-server-slowdebug/jdk/bin/java -Dsun.java.launcher=gamma -XXaltjvm=/opt/build/openjdk-jdk8u-jdk8u/build/linux-x86_64-normal-server-slowdebug/hotspot/linux_amd64_compiler2/debug</div><div class="line">[Thread debugging using libthread_db enabled]</div><div class="line"></div><div class="line">Breakpoint 1, main (argc=3, argv=0x7fffffffe2e8) at /opt/build/openjdk-jdk8u-jdk8u/jdk/src/share/bin/main.c:97</div><div class="line">97	    const jboolean const_javaw = JNI_FALSE;</div></pre></td></tr></table></figure></p>
<p>另外便于调试，hotspot脚本增加了一些其他参数<br><figure class="highlight cmd"><table><tr><td class="code"><pre><div class="line">(gdb) <span class="built_in">set</span> args -Dsun.java.launcher=gamma -XXaltjvm=/opt/build/openjdk-jdk8u-jdk8u/build/linux-x86_64-normal-server-slowdebug/hotspot/linux_amd64_compiler2/debug</div></pre></td></tr></table></figure></p>
<p>上面就是手动进行gdb的步骤，在eclipse中我们的做法类似。</p>
<h2 id="在Eclipse-CDT中Debug-Hotspot"><a href="#在Eclipse-CDT中Debug-Hotspot" class="headerlink" title="在Eclipse CDT中Debug Hotspot"></a>在Eclipse CDT中Debug Hotspot</h2><p>下面介绍在eclipse中调试hotspot的步骤。<br>首先，我们需要导入将源代码导入到eclipse：<br>Import -&gt; C/C++ -&gt; Existing Code as Makefile Project:<br><img src="/img/jvm/hotspot8_eclipse_1.png" alt=""><br>选择源代码所在的目录，建立项目：<br><img src="/img/jvm/hotspot8_eclipse_2.png" alt=""><br>导入到Eclipse中后，我们就开始建立gdb运行环境了。<br>Debug -&gt; Debug Configurations …<br><img src="/img/jvm/hotspot8_eclipse_3.png" alt=""><br>注意填写运行的程序，名称自定义，程序选择我们编译的debug版本的java程序。<br>配置运行参数，方便调试：<br><img src="/img/jvm/hotspot8_eclipse_4.png" alt=""><br>配置环境变量，让程序加载动态库的时候优先加载我们编译的dubug版本的libjvm.so。<br><img src="/img/jvm/hotspot8_eclipse_5.png" alt=""><br>然后运行<br><img src="/img/jvm/hotspot8_eclipse_6.png" alt=""></p>
<p>这样，编译的hotspot就可以在eclipse运行了，在eclipse运行方便了调试，但是不建议使用此种方式，通常通过方便的文本编译器进行更好，让我们更好的了解目录结构，以及文件分布位置。</p>
<h2 id="远程连接工具介绍"><a href="#远程连接工具介绍" class="headerlink" title="远程连接工具介绍"></a>远程连接工具介绍</h2><p>平常都是在Window下开发的，自己的笔记本是Linux。Windows连接Linux有一个很好的工具<strong>NoMachine</strong><br>linux上安装：<br><figure class="highlight sh"><table><tr><td class="code"><pre><div class="line">wget http://download.nomachine.com/download/5.1/Linux/nomachine_5.1.54_1_x86_64.rpm</div></pre></td></tr></table></figure></p>
<p>安装<br><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">rpm -ivh nomachine_5.1.54_1_x86_64.rpm</div></pre></td></tr></table></figure></p>
<p>Windows上安装，地址在<a href="https://www.nomachine.com/download/download&amp;id=17" title="nomachine下载地址" target="_blank" rel="external">nomachine下载地址</a>。安装windows标准程序直接安装，这样windows就可以访问Linux桌面了。</p>
<h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>至此，介绍了OpenJDK 8 的编译以及调试方式，这样我们就可以通过源代码了解hotspot中的运行细节了，同时也介绍了一些相关的软件，帮助我们解决一些问题。<br>在阅读源代码的时候，通过使用debug软件通常可以提升我们的阅读效率，加深我们对程序运行时的了解。</p>

      
    </div>
    <div class="article-info article-info-index">
      
      <a href="/2016/10/10/jvm/openjdk8-make-debug/" class="archive-article-date">
  	<time datetime="2016-10-10T00:47:34.000Z" itemprop="datePublished"><i class="icon-clock"></i>2016-10-10</time>
</a>
      
	<div class="article-tag tagcloud">
		<i class="icon-price-tags"></i>
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/OpenJDK/">OpenJDK</a></li></ul>
	</div>

      
	<div class="article-category tagcloud">
	<i class="icon-price-tags"></i>
	<a class="article-category-link" href="/categories/OpenJDK/">OpenJDK</a>
	</div>


      <div class="clearfix"></div>
    </div>
  </div>
</article>

  
<nav id="article-nav">
  
    <a href="/2016/10/10/jvm/openjdk7-make-debug/" id="article-nav-newer" class="article-nav-link-wrap">
      <i class="icon-circle-left"></i>
      <div class="article-nav-title">
        
          OpenJDK 7 编译调试
        
      </div>
    </a>
  
  
    <a href="/2016/09/23/jvm/jvm-hash-1/" id="article-nav-older" class="article-nav-link-wrap">
      <div class="article-nav-title">JVM之Hash算法</div>
      <i class="icon-circle-right"></i>
    </a>
  
</nav>




<div class="share_jia">
	<!-- JiaThis Button BEGIN -->
	<div class="jiathis_style">
		<span class="jiathis_txt">Share to: &nbsp; </span>
		<a class="jiathis_button_facebook"></a> 
	    <a class="jiathis_button_twitter"></a>
	    <a class="jiathis_button_plus"></a> 
	    <a class="jiathis_button_tsina"></a>
		<a class="jiathis_button_cqq"></a>
		<a class="jiathis_button_douban"></a>
		<a class="jiathis_button_weixin"></a>
		<a class="jiathis_button_tumblr"></a>
    <a href="http://www.jiathis.com/share" class="jiathis jiathis_txt jtico jtico_jiathis" target="_blank"></a>
	</div>
	<script type="text/javascript" src="http://v3.jiathis.com/code/jia.js?uid=1405949716054953" charset="utf-8"></script>
	<!-- JiaThis Button END -->
</div>






<div class="duoshuo">
	<!-- 多说评论框 start -->
	<div class="ds-thread" data-thread-key="jvm/openjdk8-make-debug" data-title="OpenJDK 8 编译调试" data-url="http://yoursite.com/2016/10/10/jvm/openjdk8-make-debug/"></div>
	<!-- 多说评论框 end -->
	<!-- 多说公共JS代码 start (一个网页只需插入一次) -->
	<script type="text/javascript">
	var duoshuoQuery = {short_name:"true"};
	(function() {
		var ds = document.createElement('script');
		ds.type = 'text/javascript';ds.async = true;
		ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
		ds.charset = 'UTF-8';
		(document.getElementsByTagName('head')[0] 
		 || document.getElementsByTagName('body')[0]).appendChild(ds);
	})();
	</script>
	<!-- 多说公共JS代码 end -->
</div>





      </div>
      <footer id="footer">
  <div class="outer">
    <div id="footer-info">
    	<div class="footer-left">
    		&copy; 2016 Corner XX
    	</div>
      	<div class="footer-right">
      		<a href="http://hexo.io/" target="_blank">Hexo</a>  Theme <a href="https://github.com/litten/hexo-theme-yilia" target="_blank">Yilia</a> by Litten
      	</div>
    </div>
  </div>
</footer>
    </div>
    <script>
	var yiliaConfig = {
		fancybox: true,
		mathjax: true,
		animate: true,
		isHome: false,
		isPost: true,
		isArchive: false,
		isTag: false,
		isCategory: false,
		open_in_new: false,
		root: "/"
	}
</script>

<script src="/./main.js"></script>





<script type="text/x-mathjax-config">
MathJax.Hub.Config({
    tex2jax: {
        inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
        processEscapes: true,
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
    }
});

MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
        all[i].SourceElement().parentNode.className += ' has-jax';                 
    }       
});
</script>

<script src="//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>


    
<div class="tools-col">
  <ul class="btn-wrap">
    
      <li class="chose" data-hook="tools-section-all"><span class="text">全部</span><i class="icon-book"></i></li>
    
    
      <li data-hook="tools-section-tag"><span class="text">标签</span><i class="icon-price-tags"></i></li>
    
    
    
      <li data-hook="tools-section-me"><span class="text">我</span><i class="icon-smile"></i></li>
    
  </ul>
  <div class="tools-wrap">
    
    	<section class="tools-section tools-section-all chose">
    	</section>
    

    
    	<section class="tools-section tools-section-tag">
    			<div class="widget tagcloud" id="js-tagcloud">
    				<a href="/tags/Hadoop-Hdfs/" style="font-size: 10px;">Hadoop Hdfs</a> <a href="/tags/Hadoop-Yran/" style="font-size: 10px;">Hadoop Yran</a> <a href="/tags/Hbase/" style="font-size: 16.67px;">Hbase</a> <a href="/tags/JVM/" style="font-size: 20px;">JVM</a> <a href="/tags/Kernel/" style="font-size: 13.33px;">Kernel</a> <a href="/tags/OpenJDK/" style="font-size: 13.33px;">OpenJDK</a> <a href="/tags/Phoenix/" style="font-size: 10px;">Phoenix</a> <a href="/tags/algorithm/" style="font-size: 10px;">algorithm</a>
    			</div>
    	</section>
    

    

    
    	<section class="tools-section tools-section-me">
  	  	
  	  		<div class="aboutme-wrap" id="js-aboutme">记录点点滴滴</div>
  	  	
    	</section>
    
  </div>
  
</div>
    <!-- Root element of PhotoSwipe. Must have class pswp. -->
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    <!-- Background of PhotoSwipe. 
         It's a separate element as animating opacity is faster than rgba(). -->
    <div class="pswp__bg"></div>

    <!-- Slides wrapper with overflow:hidden. -->
    <div class="pswp__scroll-wrap">

        <!-- Container that holds slides. 
            PhotoSwipe keeps only 3 of them in the DOM to save memory.
            Don't modify these 3 pswp__item elements, data is added later on. -->
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        <!-- Default (PhotoSwipeUI_Default) interface on top of sliding area. Can be changed. -->
        <div class="pswp__ui pswp__ui--hidden">

            <div class="pswp__top-bar">

                <!--  Controls are self-explanatory. Order can be changed. -->

                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

                <button class="pswp__button pswp__button--share" title="Share"></button>

                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                <!-- Preloader demo http://codepen.io/dimsemenov/pen/yyBWoR -->
                <!-- element will get class pswp__preloader--active when preloader is running -->
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                      <div class="pswp__preloader__cut">
                        <div class="pswp__preloader__donut"></div>
                      </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div> 
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>

            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>

        </div>

    </div>

</div>
  </div>
</body>
</html>